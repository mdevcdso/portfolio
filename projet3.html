<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assoweb</title>
    <link href="./dist/output.css" rel="stylesheet">
    <link href="./styles.css" rel="stylesheet">
    <link href="./script.js" rel="stylesheet">
</head>
<body>
    <header class="header">
        <nav class="navbar border-b border-black">
            <div class="navbar-logo">
                <img class="photo_profil" src="/img/pp.jpg" alt="photo-profil">
                <a href="index.html">MC.</a>
            </div>
            <div class="navbar-menu">
                <ol>
                    <li>
                        <a href="presentation.html">
                            Pr√©sentation de la soci√©t√©
                        </a>
                    </li>
                    <li>
                        <a href="projets.html">
                            Projets
                        </a>
                    </li>
                    <li>
                        <a href="veille.html">
                            Veille informatique
                        </a>
                    </li>
                    <li>
                        <a href="a-propos.html">
                            A propos
                        </a>
                    </li>
                </ol>
            </div>
        </nav>
    </header>

    <section class="profil">
        <div class="flex flex-col justify-center items-center">
            <div class="flex justify-center items-center space-x-8"> 
                <h1 class="titre">
                    <span class="font-bold" style="color: rgb(246, 0, 0);">|</span>  Application de Gestion de T√¢ches
                </h1>
            </div>

            <div id="project-description-3" class="project-description">
                <h3 style="font-size: 25px;">Pr√©sentation</h3>
                <div style="display: block;">
                    <p>Task_Manage_App est une application iOS d√©velopp√©e en Swift avec l'IDE Xcode. Elle a √©t√© con√ßue en suivant l'architecture <strong>MVVM</strong> (Mod√®le-Vue-Mod√®le-Vue). üìù‚úÖ</p>
                    
                    <br>
                    
                    <h4><strong>Caract√©ristiques principales :</strong></h4>

                    <br>

                    <ul>
                        <li>Cr√©ez, affichez et g√©rez vos t√¢ches avec facilit√©.</li>
                        <li>Suivez l'√©tat et la priorit√© de chaque t√¢che.</li>
                        <li>Visualisez les d√©tails de chaque t√¢che gr√¢ce √† la vue en liste ou √† la vue d√©taill√©e.</li>
                        <li>L'architecture MVVM favorise la s√©paration claire des responsabilit√©s entre les mod√®les, les vues et les vues-mod√®les, rendant le code plus maintenable. üèóÔ∏è</li>
                    </ul>
                    
                    <br>
                    
                    <h4><strong>Pourquoi utiliser l'architecture MVVM :</strong></h4>
                    <p>L'architecture MVVM (Mod√®le-Vue-Mod√®le-Vue) pr√©sente les avantages suivants :</p>
                    
                    <ul>
                        <li><strong>S√©paration des Responsabilit√©s :</strong> MVVM s√©pare clairement la logique m√©tier (mod√®le), l'interface utilisateur (vue) et la logique de pr√©sentation (vue-mod√®le), facilitant ainsi la maintenance et les tests.</li>
                        <li><strong>R√©utilisation de la Logique de Pr√©sentation :</strong> La vue-mod√®le peut √™tre r√©utilis√©e pour diff√©rents types de vues, ce qui permet de maintenir une logique de pr√©sentation coh√©rente.</li>
                        <li><strong>Testabilit√© :</strong> En isolant la logique de pr√©sentation dans la vue-mod√®le, il est plus facile de tester l'application.</li>
                    </ul>
                </div>

                <div style="margin-top: 50px;"></div>

                <div style="display: flex; justify-content: space-around;">
                    <img src="/img/accueil_taches.png" alt="tache1" style="height: 30rem;">
                    <img src="/img/ajouter_tache.jpg" alt="tache2" style="height: 30rem;">
                    <img src="/img/modifier_tache.jpg" alt="tache3" style="height: 30rem;">
                </div>

                <div style="margin-top: 4rem;"></div>

                <h3 style="font-size: 25px;">Les Technologies utilis√©es</h3>
                <div>
                    <span>Swift</span>
                </div>

                <div style="margin-top: 2rem;"></div>

                <h3 style="font-size: 25px;">Code</h3>
                <div class="card">
                    <div class="header-card">
                        <div class="top">
                        <div class="circle">
                            <span class="red circle2"></span>
                        </div>
                        <div class="circle">
                            <span class="yellow circle2"></span>
                        </div>
                        <div class="circle">
                            <span class="green circle2"></span>
                        </div>
                        <div class="title">
                            <p id="title2">ContentView.swift</p>
                        </div>
                        </div>
                    </div>
                    <div class="code-container">
                        <textarea readonly="" name="code" id="code" class="area">
                            import SwiftUI

                            struct ContentView: View {
                                @ObservedObject var viewModel: TaskViewModel
                                @State private var isAddingTask = false
                                @State private var selectedTask: Task? = nil
                                @State private var isShowingAddTaskView = false
                                @State private var newTaskTitle = ""
                                @State private var newTaskDescription = ""
                                @State private var newTaskDueDate = Date()

                                private let dateFormatter: DateFormatter = {
                                    let formatter = DateFormatter()
                                    formatter.dateStyle = .short
                                    formatter.timeStyle = .short

                                    return formatter
                                }()

                                func getTaskStateColor(task: Task) -> Color {
                                    let state = viewModel.stateTask(task: task)
                                    if state == "En retard" {
                                        return Color.red
                                    } else if state == "√Ä faire" {
                                        return Color.blue
                                    } else if state == "En suspend" {
                                        return Color.orange
                                    } else if state == "Termin√©e" {
                                        return Color.green
                                    } else {
                                        return Color.black
                                    }
                                }

                                var body: some View {
                                    TabView {
                                        NavigationView {
                                            List(viewModel.tasks) { task in
                                                NavigationLink(destination: TaskDetailView(viewModel: viewModel, task: task)) {
                                                    VStack(alignment: .leading) {
                                                        Text("\(task.title)")

                                                            .font(.headline)

                                                        Text(getTaskStateLabel(task: task))

                                                            .font(.subheadline)

                                                            .foregroundColor(getTaskStateColor(task: task))

                                                        Text("Ech√©ance : \(task.dueDate, formatter: dateFormatter)")

                                                                .font(.subheadline)

                                                        Text("Description : \(task.description)")

                                                            .font(.subheadline)

                                                    }
                                                }

                                                .onTapGesture {

                                                    selectedTask = task

                                                }
                                            }

                                            .navigationBarTitle("Liste des t√¢ches")

                                            .navigationBarItems(trailing: Button(action: {

                                                isShowingAddTaskView.toggle()

                                            }) {

                                                Image(systemName: "plus")

                                            })

                                            .sheet(isPresented: $isShowingAddTaskView) {

                                                NavigationView {

                                                    Form {

                                                        Section(header: Text("Nouvelle T√¢che")) {

                                                            TextField("Titre", text: $newTaskTitle)

                                                            TextField("Description", text: $newTaskDescription)

                                                            DatePicker("Date d'√©ch√©ance", selection: $newTaskDueDate, displayedComponents: .date)

                                                        }

                                                        Section {

                                                            Button(action: {

                                                                viewModel.addTask(title: newTaskTitle, dueDate: newTaskDueDate, description: newTaskDescription)

                                                                isShowingAddTaskView = false

                                                                newTaskTitle = ""

                                                                newTaskDescription = ""

                                                                newTaskDueDate = Date()

                                                            }) {

                                                                Text("Ajouter")

                                                            }

                                                        }

                                                    }

                                                    .navigationBarTitle("Nouvelle T√¢che")

                                                    .navigationBarItems(trailing: Button("Annuler") {

                                                        isShowingAddTaskView = false

                                                        newTaskTitle = ""

                                                        newTaskDescription = ""

                                                        newTaskDueDate = Date()

                                                    })

                                                }

                                            }

                                        }

                                        NavigationView {

                                            if let selectedTask = selectedTask {

                                                TaskDetailView(viewModel: viewModel, task: selectedTask)

                                                    .navigationBarTitle("D√©tails de la T√¢che")

                                                    .onDisappear {

                                                        self.selectedTask = nil

                                                    }

                                            } else {

                                                Text("S√©lectionnez une t√¢che")

                                                    .navigationBarTitle("Liste des t√¢ches")

                                            }

                                        }

                                    }

                                }

                                func getTaskStateLabel(task: Task) -> String {

                                    return viewModel.stateTask(task: task)

                                }

                            }

                            struct ContentView_Previews: PreviewProvider {

                                static var previews: some View {

                                    ContentView(viewModel: TaskViewModel())
                                }
                            }
                        </textarea>
                    </div>
                </div>

                <div style="margin-top: 50px;"></div>

                <div class="card">
                    <div class="header-card">
                        <div class="top">
                        <div class="circle">
                            <span class="red circle2"></span>
                        </div>
                        <div class="circle">
                            <span class="yellow circle2"></span>
                        </div>
                        <div class="circle">
                            <span class="green circle2"></span>
                        </div>
                        <div class="title">
                            <p id="title2">Task.swift</p>
                        </div>
                        </div>
                    </div>
                    <div class="code-container">
                        <textarea readonly="" name="code" id="code" class="area">
                            Import Foundation

                            struct Task : Identifiable {
                                var id = UUID()
                                var title: String
                                var dueDate: Date
                                var description: String
                                var isCompleted: Bool
                                var isSuspended: Bool

                                init(title: String, dueDate: Date, description: String, isCompleted: Bool = false, isSuspended: Bool = false) {
                                    self.title = title
                                    self.dueDate = dueDate
                                    self.description = description
                                    self.isCompleted = isCompleted
                                    self.isSuspended = isSuspended
                                }
                            }
                        </textarea>
                    </div>
                </div>

                <div style="margin-top: 50px;"></div>

                <div class="card">
                    <div class="header-card">
                        <div class="top">
                        <div class="circle">
                            <span class="red circle2"></span>
                        </div>
                        <div class="circle">
                            <span class="yellow circle2"></span>
                        </div>
                        <div class="circle">
                            <span class="green circle2"></span>
                        </div>
                        <div class="title">
                            <p id="title2">TaskViewModel.swift</p>
                        </div>
                        </div>
                    </div>
                    <div class="code-container">
                        <textarea readonly="" name="code" id="code" class="area">
                            import Foundation

                            class TaskViewModel: ObservableObject {

                                @Published var tasks: [Task] = []

                                func addTask(title: String, dueDate: Date, description: String) {

                                    let newTask = Task(title: title, dueDate: Date(), description: description)

                                    tasks.append(newTask)

                                }

                                func updateTask(task: Task, newTitle: String, newDescription: String, newdueDate: Date) {

                                    if let index = tasks.firstIndex(where: { $0.id == task.id }) {

                                        tasks[index].title = newTitle

                                        tasks[index].description = newDescription

                                        tasks[index].dueDate = newdueDate

                                    }
                                }
                                
                                func deleteTask(task: Task) {

                                    tasks.removeAll { $0.id == task.id }

                                }

                                func stateTask(task: Task ) -> String {

                                    let currentDate = Date()

                                    if task.dueDate < currentDate {
                                        return "En retard"
                                    } else if task.isCompleted {
                                        return "Termin√©e"
                                    } else if task.isSuspended {
                                        return "En suspend"
                                    } else {
                                        return "√Ä faire"
                                    }
                                }
                            }
                        </textarea>
                    </div>
                </div>

                <div style="margin-top: 50px;"></div>

                <div class="card">
                    <div class="header-card">
                        <div class="top">
                        <div class="circle">
                            <span class="red circle2"></span>
                        </div>
                        <div class="circle">
                            <span class="yellow circle2"></span>
                        </div>
                        <div class="circle">
                            <span class="green circle2"></span>
                        </div>
                        <div class="title">
                            <p id="title2">TaskDetailsView.swift</p>
                        </div>
                        </div>
                    </div>
                    <div class="code-container">
                        <textarea readonly="" name="code" id="code" class="area">
                            import SwiftUI

                            struct TaskDetailView: View {
                                @ObservedObject var viewModel: TaskViewModel
                                var task: Task

                                @State private var isEditing = false
                                @State private var newTitle = ""
                                @State private var newDescription = ""
                                @State private var newdueDate = Date()

                                var body: some View {
                                    Form {
                                        Section(header: Text("D√©tails de la T√¢che")) {
                                            if isEditing {
                                                TextField("Nouveau Titre", text: $newTitle)
                                                TextField("Nouvelle Description", text: $newDescription)
                                                DatePicker("Nouvelle Date d'√©ch√©ance", selection: $newdueDate, displayedComponents: .date)
                                            } else {
                                                Text("Titre: \(task.title)")
                                                Text("Description: \(task.description)")
                                                Text("Date d'√©ch√©ance: \(task.dueDate)")
                                            }
                                        }

                                        Section {
                                            if isEditing {
                                                Button(action: {
                                                    viewModel.updateTask(task: task, newTitle: newTitle, newDescription: newDescription, newdueDate: newdueDate)
                                                    isEditing.toggle()
                                                }) {
                                                    Text("Sauvegarder")
                                                }
                                            } else {
                                                Button(action: {
                                                    isEditing.toggle()
                                                    newTitle = task.title
                                                    newDescription = task.description
                                                    newdueDate = task.dueDate
                                                }) {
                                                    Text("Modifier")
                                                }
                                            }
                                            Button(action: {
                                                viewModel.deleteTask(task: task)
                                                isEditing.toggle()
                                            }) {
                                                Text("Supprimer")
                                            }
                                        }
                                    }
                                    .navigationBarTitle("D√©tails de la T√¢che")
                                }
                                var formattedDueDate: String {
                                    let formatter = DateFormatter()
                                    formatter.dateStyle = .short
                                    formatter.timeStyle = .short
                                    return formatter.string(from: newdueDate)
                                }
                            }

                            struct TaskDetailView_Previews: PreviewProvider {
                                static var previews: some View {
                                    let viewModel = TaskViewModel()
                                    let sampleTask = Task(title: "Exemple de T√¢che", dueDate: Date(), description: "Ceci est une t√¢che de d√©monstration")

                                    return TaskDetailView(viewModel: viewModel, task: sampleTask)
                                }
                            }
                        </textarea>
                    </div>
                </div>

                <div style="margin-top: 50px;"></div>

                <div class="card">
                    <div class="header-card">
                        <div class="top">
                        <div class="circle">
                            <span class="red circle2"></span>
                        </div>
                        <div class="circle">
                            <span class="yellow circle2"></span>
                        </div>
                        <div class="circle">
                            <span class="green circle2"></span>
                        </div>
                        <div class="title">
                            <p id="title2">Gestion_TaskApp.swift</p>
                        </div>
                        </div>
                    </div>
                    <div class="code-container">
                        <textarea readonly="" name="code" id="code" class="area">
                            import SwiftUI

                            @main
                            struct Gestion_TasksApp: App {
                                var body: some Scene {
                                    WindowGroup {
                                        ContentView(viewModel: TaskViewModel())
                                    }
                                }
                            }
                        </textarea>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <footer>
        <div class="flex justify-around items-center">
            <div>
                <div class="mb-1">
                    <h1 class="text-center text-white text-lg font-bold">
                        R√©seaux sociaux
                    </h1>
                </div>
                <div>
                    <ul class="social-icon">
                        <li class="social-icon__item">
                            <a class="social-icon__link" href="#">
                                <ion-icon name="logo-linkedin"></ion-icon>
                            </a>
                        </li>
                        <li class="social-icon__item">
                            <a class="social-icon__link" href="#">
                                <ion-icon name="logo-github"></ion-icon>
                            </a>
                        </li>
                        <li class="social-icon__item">
                            <a class="social-icon__link" href="#">
                                <ion-icon name="logo-discord"></ion-icon>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="divider"></div>

            <div class="flex flex-col space-y-2">
                <div>
                    <h1 class="text-center text-white text-lg font-bold">
                        Menu
                    </h1>
                </div>
                <div>
                    <ul class="menu">
                        <li class="menu__item"><a class="menu__link" href="index.html">Accueil</a></li>
                        <li class="menu__item"><a class="menu__link" href="presentation.html">Pr√©sentation de la soci√©t√©</a></li>
                        <li class="menu__item"><a class="menu__link" href="projets.html">Projets</a></li>
                        <li class="menu__item"><a class="menu__link" href="veille.html">Veille informatique</a></li>
                        <li class="menu__item"><a class="menu__link" href="#">CV</a></li>
                    </ul>
                </div>
            </div>

            <div class="divider"></div>

            <div class="relative flex flex-wrap justify-center items-center text-white sfthin" style="font-size: larger;">
                &copy; Marion Candusso | Tout droit r√©serv√©
            </div>
        </div>
    </footer>
</body>
</html>